# DAS Trader Scripts

Shared DAS Trader `.das` scripts and a canonical `keymap.yaml`, maintained for use with the DAS Hotkey Tools VS Code extension.

## Overview

This repository contains human-readable DAS Trader hotkey scripts plus a keymap file that can be compiled into a DAS `Hotkey.htk` file. It exists to make large hotkey libraries easier to review, version, and share than editing Hotkey.htk directly.

These are the scripts I trade with on a daily basis. They are routinely updated as I encounter new scenarios I wish to explore and as I gradually advance my trading experience. If you choose to use these scripts,
it is important that you carefully review the global settings in `hotkeys/set_global_variables.das` and ensure `keymap.yaml` reflects the keyboard or Stream Deck hotkeys you wish to use (mine are tailored to my setup). It is worth noting that I primarily use
a Stream Deck when trading, which I find preferable to the keyboard.

These scripts can be manually copied and pasted directly into the DAS Trader script editor or you may want to consider using the DAS Hotkey Tools to automate the process (see the Requirements section below).

Note: The VS Code extension replaces `%%SIMULATED%%` and `%%LIVE%%` tokens when it builds the `Hotkey.htk`. If you copy scripts manually, make sure those placeholders are replaced in the SIM/LIVE switch and session scripts, and set `$TRSIM`/`$LIVEACT` in `hotkeys/set_global_variables.das` to your actual account identifiers.

Finally, please read the Risk Disclaimer section below and understand that you are using these scripts at your own risk and they are provided here purely for educational purposes.

Serious about day trading? You can find me on Discord here:  https://discord.gg/UvZYTEGrvh

## Repository Layout

- `keymap.yaml` - Hotkey metadata and key bindings.
- `hotkeys/` - Primary hotkey scripts.
- `other scripts/` - Supporting scripts or utilities.
- `output.htk` - Compiled output (generated by the build command).

## Requirements

- Tested with DAS Trader Pro 5.8.1.6
- DAS Hotkey Tools VS Code extension (https://github.com/madiver/dasVSide)
- DAS Trader Pro configuration (https://github.com/madiver/DASTraderConfig)

## Build Hotkey.htk

1. Open this repo in VS Code.
2. Ensure `keymap.yaml` is present at the repo root.
3. Run `DAS: Build Hotkey File`.
4. Use the generated `output.htk` in DAS Trader.

## Notes

- Scripts are plain text and safe to review in source control.
- The compiler is deterministic: the same inputs produce the same output.
- Use `// Ignore: True` in a script to exclude it from builds.
- Use `// Group: <name>` to tag a script's category (kept in sync with the
  section headers in `keymap.yaml` for easier organization).
- With `$useTimerArming = 1` (default), buy hotkeys return immediately after
  sending the order and the timer calls `Timer Entry Handler` to arm stop/TP on
  subsequent ticks. Install `other scripts/timer.das` and keep
  `hotkeys/timer_entry_handler.das` in your keymap; set `$useTimerArming = 0` to
  revert to inline polling.

## Script metadata

The DAS Hotkey Tools extension reads simple header tags from each script file.
These live in the first few comment lines of a `.das` file.

Example:

```das
// BUY 10 BID+ SL
// Group: Buy orders: Bid+ SL
// Ignore: True
```

Current groups used in `hotkeys/`:
Buy orders: Ask SL, Buy orders: Ask+ SL, Buy orders: Bid SL, Buy orders: Bid+ SL,
Global controls & config, Sell orders: Ask, Sell orders: Bid-, Session equity &
PnL, Stops, Take profit, Utilities & toggles.

## Scaling Behavior

- Scale-ins are allowed only when the existing position is at least 1R in profit (based on `stopLossTrigger` and current BID vs AvgCost).
- When adding to an existing long, the scripts use the scale-in-specific BE stop hotkey (`Set Auto Stop BE Scale 1/1`).
- Buy_IB scripts use an ice-breaker size that rounds to 5-share lots with a minimum of 5 shares.
- Projected risk caps are evaluated against total size after the add (current position + new shares).

## Dynamic Stops (Buy_IB Only)

- Controlled by `dynamicStop` and `dynamicStopMult` in `hotkeys/set_global_variables.das`.
- Dynamic R is based on spread at order send and is fixed for the life of the trade.
- Dynamic R is cleared when flat by the timer script (see `other scripts/timer.das`).
- Adaptive stop-limit offsets are used only when a dynamic stop is active; otherwise `$exitOffset` is used.

## Risk Disclaimer

These scripts are provided "as is" and are used at your own risk. Always review
and test hotkeys before use in DAS Trader.
- I make no warranties or guarantees that these scripts are correct or bug free.
- Test changes in SIM and confirm order routes, share sizes, and risk controls.
- Hotkeys can place, modify, or cancel orders instantly; mistakes can be costly.
- You are responsible for compliance with broker rules, account settings, and
  regulatory requirements.
